<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Frey çš„ä¸ªäººç½‘ç«™</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">

    <!-- é¢å¤–å°æ ·å¼ï¼šç¡®ä¿è¾“å…¥æ¡†/å‹ç¼©å‚æ•°æ ·å¼ç»Ÿä¸€ï¼ˆä¸ä¼šé™åˆ¶æ•°å­—ï¼Œå…è®¸ä»»æ„å­—ç¬¦ï¼‰ -->
    <style>
        /* é€šç”¨å‚æ•°è¡Œï¼šæ ‡é¢˜ + æ§ä»¶ å¯¹é½ */
        .compress-param {
            margin: 10px 0;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        .compress-param label.small {
            font-size: 13px;
            color: var(--text-muted);
        }
        .compress-param input[type="text"],
        .compress-param input[type="password"],
        .compress-param input[type="number"],
        .compress-param select,
        .compress-param textarea {
            width: 100%;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: rgba(255,255,255,0.03);
            color: var(--text);
            font-size: 14px;
            box-sizing: border-box;
        }
        .compress-param input[type="range"] {
            width: 100%;
        }
        /* æ˜¾ç¤ºä¸ºå’Œå…¶å®ƒå¡ç‰‡ä¸€è‡´çš„æŒ‰é’®æ ·å¼ï¼ˆè‹¥å¤–éƒ¨ style.css å·²æœ‰åˆ™ä½¿ç”¨å¤–éƒ¨æ ·å¼ï¼‰ */
        .post-card .params-title { margin-top: 0; margin-bottom: 8px; font-size: 15px; color: var(--accent); }
        /* æ—¥å¿—å—å°è°ƒæ•´ */
        #encLog, #decLog { min-height: 36px; max-height:160px; overflow:auto; padding:10px; border-radius:8px; background: rgba(0,0,0,0.03); color:var(--text-muted); }
        /* è½½ä½“é¢„è§ˆ */
        #carrierPreview img { display:block; margin:6px auto; max-height:140px; width:auto; border-radius:6px; }
        /* æ§åˆ¶é¢æ¿å†…ä¸€è‡´çš„å†…è¾¹è· */
        #encrypt-panel .post-card, #decrypt-panel .post-card { padding:12px; box-sizing:border-box; }
    </style>
</head>
<body>

<div id="vanta-bg"></div>

<div id="time-btn">ğŸ•“</div> <div id="time-panel">
    <h3>åŒ—äº¬æ—¶é—´</h3>
    <div class="time-detail-item">æ—¥æœŸï¼š<span id="tp-date">--</span></div>
    <div class="time-detail-item">æ˜ŸæœŸï¼š<span id="tp-week">--</span></div>
    <div class="time-detail-item">æ—¶åˆ»ï¼š<span id="tp-time">--</span></div>
</div>

<div id="guestbook-btn"><div class="guestbook-icon">ğŸ’¬</div></div>

<div id="guestbook-panel">
    <h3 class="panel-title">è®¿å®¢ç•™è¨€æ¿</h3>
    
    <div id="guestbook-form">
        <label for="panel-guestbook-name" class="small">æ‚¨çš„æ˜µç§° (å¯é€‰)</label>
        <input type="text" id="panel-guestbook-name" placeholder="Frey çš„çƒ­å¿ƒç½‘å‹" maxlength="30">
        
        <label for="panel-guestbook-content" class="small">ç•™è¨€å†…å®¹ (å¿…å¡«)</label>
        <textarea id="panel-guestbook-content" placeholder="åœ¨è¿™é‡Œç•™ä¸‹æ‚¨å®è´µçš„å»ºè®®æˆ–å‹å¥½çš„é—®å€™..." maxlength="500" rows="5"></textarea>
        
        <button id="panel-submit-message" class="btn" style="width:100%;">æäº¤ç•™è¨€</button>
        <div id="panel-message-log" class="small" style="text-align:center;margin-top:10px;"></div>
    </div>
    
    <div style="margin-top: 15px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.1);">
        <h4 style="color: var(--accent); font-size: 15px; margin: 0 0 10px 0;">è¿‘æœŸç•™è¨€</h4>
        <div id="panel-messages-list" style="max-height: 250px; overflow-y: auto;">
            <p class="small" style="text-align:center;">æ­£åœ¨åŠ è½½ç•™è¨€...</p>
        </div>
    </div>
</div>

<header>
    <h1>Frey çš„ä¸ªäººç½‘ç«™</h1>
    <p>è®°å½• Â· æ€è€ƒ Â· æˆé•¿ Â· å‰è¿›</p>
</header>

<div class="container">
    <div class="post-card">
        <h2 class="card-title">å›¾ç‰‡å‹ç¼©&æ ¼å¼è½¬æ¢ <span class="toggle-icon">â–¾</span></h2>
        <div class="card-content">
            <p style="margin-top:8px">åœ¨æµè§ˆå™¨å†…å‹ç¼©å›¾ç‰‡å¹¶è½¬æ¢æ ¼å¼ï¼šä¸Šä¼  â†’ è®¾ç½®å‚æ•° â†’ å‹ç¼© â†’ å•å¼ æˆ–æ‰“åŒ…ä¸‹è½½ã€‚</p>
            <div style="margin-top:12px" class="compress-grid">
                <div style="padding:12px">
                    <div id="dropzone" class="dropzone">
                        <div class="dropzone-title">ä¸Šä¼ æœ¬åœ°å›¾ç‰‡(æ‹–æ‹½/ç‚¹å‡»)</div>
                        <div class="small" style="margin-top:6px">æ”¯æŒ JPEG / PNG / WebP / AVIF / GIFï¼ˆé™å¸§ï¼‰ä»¥åŠå‡ ä¹æ‰€æœ‰æµè§ˆå™¨å¯æ‰“å¼€çš„å›¾ç‰‡æ ¼å¼</div>
                        <input id="fileInput" type="file" accept="image/*" multiple style="display:none">
                    </div>
                    <div class="thumbs" id="thumbs"></div>
                    <div style="margin-top:12px" class="file-row">
                        <div class="small">å·²é€‰ï¼š<span id="count">0</span> å¼ </div>
                        <div>
                            <button class="btn" id="clearBtn">æ¸…ç©ºé¡µé¢</button>
                            <button class="btn" id="compressBtn">å¼€å§‹å¤„ç†</button>
                            <button class="btn" id="downloadAllBtn">æ‰“åŒ…ä¸‹è½½</button>
                        </div>
                    </div>
                    <div style="margin-top:8px" class="small">
                        å¤„ç†æ—¥å¿—ï¼š<div id="log"></div>
                    </div>
                </div>
                <div class="controls post-card" style="padding:14px">
                    <h3 class="params-title">å‚æ•°è®¾ç½®</h3>
                    <div class="compress-param"><label class="small">æœ€å¤§å®½åº¦æˆ–é«˜åº¦ï¼ˆåƒç´ ï¼‰</label><input id="maxSide" type="number" value="1024" min="64" step="1"></div>
                    <div class="compress-param"><label class="small">ç›®æ ‡æ–‡ä»¶å¤§å°ï¼ˆæœ€å¤§ï¼ŒMBï¼‰</label><input id="maxSizeMB" type="number" value="1" min="0.05" step="0.05"></div>
                    <div>
                        <label class="small">è¾“å‡ºæ ¼å¼</label>
                        <select id="outFormat">
                            <option value="original">ä¿æŒåŸæ ¼å¼</option>
                            <option value="jpeg">JPEG (.jpg)</option>
                            <option value="png">PNG (.png)</option>
                            <option value="webp" selected>WebP (.webp)</option>
                            <option value="avif">AVIF (.avif)</option>
                        </select>
                    </div>
                    <div class="compress-param">
                        <label class="small">è´¨é‡ (0.1 - 1.0) <span id="qualityVal" class="small" style="float:right">0.80</span></label>
                        <input id="quality" type="range" min="0.1" max="1" step="0.05" value="0.80">
                    </div>
                    <div class="compress-param"><label class="small"><input id="useWorker" type="checkbox" checked> ä½¿ç”¨ Web Workerï¼ˆæ›´å¿«ï¼Œæ¨èï¼‰</label></div>
                    <div><label class="small"><input type="checkbox" id="onlyConvert"> ä»…ä¿®æ”¹å›¾ç‰‡æ ¼å¼ï¼ˆä¸å‹ç¼©ï¼‰</label></div>
                    <div style="margin-top:8px" class="small">
                        æç¤ºï¼šå‹¾é€‰ã€Œä»…ä¿®æ”¹å›¾ç‰‡æ ¼å¼ã€åå°†æ— æŸè½¬æ¢æ ¼å¼ï¼Œå‹ç¼©ç›¸å…³å‚æ•°ä¼šå˜ç°ã€‚<br>AVIF å‹ç¼©ç‡æœ€é«˜ï¼ŒWebP å…¼å®¹æ€§æœ€ä½³ã€‚
                    </div>
                </div>
            </div>
        </div>
    </div>
    
<div class="post-card">
    <h2 class="card-title">æ–‡ä»¶åŠ å¯†ä¸ä¼ªè£… <span class="toggle-icon">â–¾</span></h2>
    <div class="card-content">

        <!-- é¡¶éƒ¨åˆ‡æ¢æŒ‰é’® -->
        <div style="margin-top:16px;display:flex;gap:10px;flex-wrap:wrap">
            <button class="btn active" data-enc-tab="encrypt">åŠ å¯†æ–‡ä»¶</button>
            <button class="btn" data-enc-tab="decrypt">è§£å¯†æ–‡ä»¶</button>
        </div>

        <!-- ===================== åŠ å¯†é¢æ¿ï¼ˆä¸¤åˆ—å¸ƒå±€ï¼‰ ===================== -->
        <div id="encrypt-panel" style="display:block;margin-top:16px;">
            <div class="compress-grid">

                <!-- å·¦ä¾§ï¼šä¸Šä¼ ä¸æ—¥å¿— -->
                <div style="padding:12px">
                    <div id="dropzoneEnc" class="dropzone" style="margin-bottom:15px;">
                        <div class="dropzone-title">ä¸Šä¼ æ–‡ä»¶ï¼ˆä»»æ„æ ¼å¼ï¼‰</div>
                        <div class="small" style="margin-top:6px">ä»…æ”¯æŒå•ä¸ªæ–‡ä»¶</div>
                        <input type="file" id="encInput" style="display:none">
                    </div>

                    <div class="small">å¤„ç†æ—¥å¿—ï¼š</div>
                    <div id="encLog"></div>
                </div>

                <!-- å³ä¾§ï¼šå‚æ•°å¡ç‰‡ -->
                <div class="controls post-card" style="padding:14px">
                    <h3 class="params-title">åŠ å¯†å‚æ•°</h3>

                    <!-- è¾“å‡ºæ–‡ä»¶å -->
                    <div class="compress-param">
                        <label class="small">è¾“å‡ºæ–‡ä»¶åï¼ˆæ— éœ€æ‰©å±•åï¼‰</label>
                        <input id="encFilename" type="text" placeholder="ä¾‹å¦‚ï¼šsecret_file">
                    </div>

                    <!-- åŠ å¯†çº§åˆ« -->
                    <div class="compress-param">
                        <label class="small">åŠ å¯†çº§åˆ«</label>
                        <select id="encLevel">
                            <option value="level1">Level 1ï¼šæ–‡ä»¶ä¼ªè£…ï¼ˆæ”¹åç¼€å¯æ¢å¤ï¼‰</option>
                            <option value="level2" selected>Level 2ï¼šAES-GCM-256 å¼ºåŠ å¯†</option>
                        </select>
                    </div>

                    <!-- å¯†ç  -->
                    <div class="compress-param">
                        <label class="small">åŠ å¯†å¯†ç ï¼ˆLevel 2 å¿…å¡«ï¼‰</label>
                        <input id="encPasswordInput" type="password" placeholder="è¯·è¾“å…¥å¯†ç ">
                    </div>

                    <!-- è½½ä½“é€‰æ‹© -->
                    <div class="compress-param">
                        <label class="small">é€‰æ‹©å›¾ç‰‡è½½ä½“</label>

                        <div id="localCarrierDropzone" class="dropzone" style="margin-bottom:10px;padding:10px;">
                            <div class="small" style="font-weight:600;color:var(--accent)">æ‹–å…¥å›¾ç‰‡ä½œä¸ºè½½ä½“</div>
                        </div>

                        <select id="carrierImage">
                            <option value="" disabled selected>è½½ä½“åˆ—è¡¨åŠ è½½ä¸­...</option>
                        </select>
                    </div>

                    <!-- åŠ å¯†ç»“æœ -->
                    <h3 class="params-title" style="margin-top:12px">ç”Ÿæˆä¿¡æ¯ï¼ˆLevel 2 å¿…ä¿å­˜ï¼‰</h3>

                    <div class="compress-param">
                        <label class="small">Saltï¼ˆBase64ï¼‰</label>
                        <input id="encSaltDisplay" type="text" readonly placeholder="åŠ å¯†åæ˜¾ç¤º">
                    </div>

                    <div class="compress-param">
                        <label class="small">æœ€ç»ˆæ–‡ä»¶å</label>
                        <input id="encFilenameDisplay" type="text" readonly placeholder="åŠ å¯†åæ˜¾ç¤º">
                    </div>

                    <button class="btn" id="startEncrypt" style="width:100%;margin-top:10px;">å¼€å§‹åŠ å¯†</button>
                </div>

            </div>
        </div>

        <!-- ===================== è§£å¯†é¢æ¿ï¼ˆå•åˆ—å¸ƒå±€ï¼‰ ===================== -->
        <div id="decrypt-panel" style="display:none;margin-top:16px;">

            <!-- ä¸Šä¼ åŒº -->
            <div id="dropzoneDec" class="dropzone" style="margin-bottom:15px;">
                <div class="dropzone-title">ä¸Šä¼ åŠ å¯†åçš„æ–‡ä»¶</div>
                <input type="file" id="decInput" style="display:none">
            </div>

            <!-- æ–‡ä»¶ä¿¡æ¯ -->
            <div id="decFileDetail" style="margin-bottom:15px;padding:10px 0;border-bottom:1px solid var(--border);display:none;">
                <div class="small">æ–‡ä»¶åï¼š<span id="decFileName">--</span></div>
                <div class="small">å¤§å°ï¼š<span id="decFileSize">--</span></div>
                <div class="small">åŠ å¯†çº§åˆ«ï¼š<span id="decLevelDisplay" style="color:var(--accent)">è§£æä¸­...</span></div>
            </div>

            <!-- è§£å¯†å¯†ç  -->
            <div class="compress-param">
                <label class="small">è§£å¯†å¯†ç ï¼ˆLevel 2 å¿…å¡«ï¼‰</label>
                <input id="decPasswordInput" type="password" placeholder="è¯·è¾“å…¥å¯†ç ">
            </div>

            <!-- æŒ‰é’® -->
            <button class="btn" id="startDecrypt" style="width:100%;margin-top:10px;">å¼€å§‹è§£å¯†</button>

            <!-- æ—¥å¿— -->
            <div class="small" style="margin-top:10px;">å¤„ç†æ—¥å¿—ï¼š</div>
            <div id="decLog"></div>
        </div>

    </div>
</div>


    <div class="post-card">
        <h2 class="card-title">å›¾ç‰‡ â†” PDF äº’è½¬ <span class="toggle-icon">â–¾</span></h2>
        <div class="card-content">
            <p style="margin-top:8px">çº¯å‰ç«¯å®ç°ï¼šå¤šå›¾è½¬ PDFã€PDF è½¬å›¾ç‰‡ï¼Œå…¨éƒ¨ç¦»çº¿å¤„ç†ï¼Œæ”¯æŒæ‹–æ‹½ä¸æ‰¹é‡ä¸‹è½½ã€‚</p>
            <div style="margin-top:16px;display:flex;gap:10px;flex-wrap:wrap">
                <button class="btn active" data-tab="img2pdf">å›¾ç‰‡ â†’ PDF</button>
                <button class="btn" data-tab="pdf2img">PDF â†’ å›¾ç‰‡</button>
            </div>
            <div id="img2pdf" class="compress-grid" style="margin-top:12px;gap:18px">
                <div style="padding:12px">
                    <div id="dropzoneImg" class="dropzone">
                        <div class="dropzone-title">ä¸Šä¼ æœ¬åœ°å›¾ç‰‡(æ‹–æ‹½/ç‚¹å‡»)</div>
                        <div class="small" style="margin-top:6px">æ”¯æŒ JPG / PNG / WebP / GIFï¼ˆé™å¸§ï¼‰</div>
                        <input type="file" id="imgInput" accept="image/*" multiple style="display:none">
                    </div>
                    <div class="thumbs" id="imgThumbs"></div>
                    <div class="file-row" style="margin-top:12px">
                        <div class="small">å·²é€‰ï¼š<span id="imgCount">0</span> å¼ </div>
                        <div>
                            <button class="btn" id="clearImgList">æ¸…ç©ºåˆ—è¡¨</button>
                            <button class="btn" id="generatePdf">ç”Ÿæˆ PDF</button>
                        </div>
                    </div>
                    <div class="small" style="margin-top:8px">å¤„ç†æ—¥å¿—ï¼š<div id="imgLog"></div></div>
                </div>
                <div class="controls post-card" style="padding:14px;height:fit-content">
                    <h3 class="params-title">å‚æ•°è®¾ç½®</h3>
                    <div class="compress-param"><label class="small">é¡µé¢å°ºå¯¸</label>
                        <select id="pageSize">
                            <option value="a4">A4ï¼ˆç«–ç‰ˆï¼‰</option>
                            <option value="a4l">A4ï¼ˆæ¨ªç‰ˆï¼‰</option>
                            <option value="letter">Letter</option>
                            <option value="custom">è‡ªå®šä¹‰å°ºå¯¸</option>
                        </select>
                    </div>
                    <div class="compress-param" id="customSizeRow" style="display:none">
                        <input type="number" id="customW" placeholder="å®½ px" value="1920" style="width:48%">
                        <input type="number" id="customH" placeholder="é«˜ px" value="1080" style="width:48%;margin-left:4%">
                    </div>
                    <div class="compress-param"><label class="small">è¾¹è·ï¼ˆpxï¼‰</label><input id="margin" type="number" value="20" min="0"></div>
                </div>
            </div>
            <div id="pdf2img" style="display:none;padding:12px">
                <div id="dropzonePdf" class="dropzone">
                    <div style="font-weight:600;color:#cfe8ff">æ‹–æ‹½ PDF æ–‡ä»¶åˆ°è¿™é‡Œï¼Œæˆ–ç‚¹å‡»é€‰æ‹©</div>
                    <div class="small" style="margin-top:6px">ä¸€æ¬¡åªæ”¯æŒå•ä¸ª PDF</div>
                    <input type="file" id="pdfInput" accept=".pdf" style="display:none">
                </div>
                <div class="thumbs" id="pdfThumbs"></div>
                <div class="file-row" style="margin-top:12px">
                    <div class="small">å…± <span id="pdfPageCount">0</span> é¡µ</div>
                    <div>
                        <button class="btn" id="clearPdfList">æ¸…ç©ºé¡µé¢</button>
                        <button class="btn" id="extractImages">æå–å›¾ç‰‡</button>
                        <button class="btn" id="downloadAllImages">æ‰“åŒ…ä¸‹è½½</button>
                    </div>
                </div>
                <div class="small" style="margin-top:8px">å¤„ç†æ—¥å¿—ï¼š<div id="pdfLog"></div></div>
            </div>
        </div>
    </div>

    <div class="post-card">
        <h2 class="card-title">æœªæ¥å†…å®¹ <span class="toggle-icon">â–¾</span></h2>
        <div class="card-content"><p>æ•¬è¯·æœŸå¾…ï¼</p></div>
    </div>
</div>

<footer>Â© 2025 <span>Frey</span> â€¢ Powered by GitHub Pages</footer>

<div id="bg-switcher-btn"><span id="bg-icon"></span></div>
<div id="bg-switcher-panel">
    <h3>åŠ¨æ€èƒŒæ™¯æ¨¡å¼</h3>
    <div class="bg-options">
        <button data-mode="night" class="bg-opt active">å¤œé—´ Â· NETç½‘æ ¼</button>
        <button data-mode="day"   class="bg-opt">æ—¥é—´ Â· BIRDSé£é¸Ÿ</button>
        </div>
</div>

<div id="net-monitor-btn"><div class="net-icon">ğŸŒ</div></div>
<div id="net-monitor-panel">
    <h3>ç½‘ç»œçŠ¶æ€ç›‘æ§</h3>
    <div class="net-item">ç½‘ç»œçŠ¶æ€ï¼š<span id="nm-status">--</span></div>
    <div class="net-item">è¯·æ±‚è€—æ—¶ï¼š<span id="nm-request">--</span></div>
    <div class="net-item">ä¸‹è½½é€Ÿåº¦ï¼š<span id="nm-speed">--</span></div>
    <div class="net-item">ç½‘ç»œå»¶è¿Ÿï¼š<span id="nm-latency">--</span></div>
</div>

<div id="music-player-btn"><div class="music-icon">ğŸµ</div></div>
<div id="music-player-panel">
    <h3 class="panel-title">
        éŸ³ä¹æ’­æ”¾å™¨
        <span id="toggleList" style="position:absolute;right:0;top:0;cursor:pointer;font-size:18px;opacity:0.6;">â™ª</span>
    </h3>
    
    <div id="songTitle" class="net-item" style="font-weight:600;cursor:pointer;margin-bottom:12px;" title="ç‚¹å‡»å±•å¼€æ­Œå•">åŠ è½½ä¸­...</div>
    
    <div class="player-row">
        <span id="currentTime" class="player-side-item">0:00</span>
        <input type="range" id="progress" value="0" max="100">
        <span id="duration" class="player-side-item">--:--</span>
    </div>

    <div class="controls-row">
        <button id="prevBtn" title="ä¸Šä¸€é¦–">â®</button>
        <button id="playBtn" title="æ’­æ”¾/æš‚åœ">â–¶</button>
        <button id="nextBtn" title="ä¸‹ä¸€é¦–">â­</button>
    </div>

    <div class="player-row">
        <span class="player-side-item icon">ğŸ”ˆ</span>
        <input type="range" id="volume" min="0" max="100" value="70">
        <span class="player-side-item icon">ğŸ”Š</span>
    </div>

    <div id="playlistContainer" style="display:none;max-height:180px;overflow-y:auto;margin-top:12px;border-top:1px solid rgba(255,255,255,0.1);padding-top:8px;width:100%;">
        <div style="text-align:center;color:#60a5fa;font-size:12px;padding:4px 0;margin-bottom:8px;border-bottom:1px solid rgba(96,165,250,0.3);font-weight:600;">
            ä»¥ä¸‹æ‰€æœ‰éŸ³ä¹å‡ç”± Frey ä½¿ç”¨ AI ç”Ÿæˆ
        </div>
        <div id="playlistItems" style="font-size:13px;"></div>
        <div style="padding:8px 0;color:#64748b;font-size:12px;text-align:center;">å¯æ‹–æ‹½æœ¬åœ° mp3 åˆ°æ­¤å¤„æ·»åŠ </div>
    </div>
</div>

<!-- libs -->
<script src="js/lib/three.min.js"></script>
<script src="js/lib/vanta.net.min.js"></script>
<script src="js/lib/vanta.birds.min.js"></script>
<script src="js/lib/vanta.clouds.min.js"></script>
<script src="js/lib/browser-image-compression.min.js"></script>
<script src="js/lib/jszip.min.js"></script>
<script src="js/lib/jspdf.umd.min.js"></script>
<script src="js/lib/pdf.min.js"></script>

<script>
    window.VANTA = window.VANTA || {};
    Object.assign(window.VANTA, window.VANTA || {});
</script>

<!-- ä½ çš„ä¸»é€»è¾‘æ–‡ä»¶ -->
<script type="module" src="js/main.js"></script>

<script>
/* å°è„šæœ¬ï¼šTab åˆ‡æ¢ï¼ˆå›¾ç‰‡/PDFäº’è½¬ï¼‰ä¸åŠ å¯†/è§£å¯† tab */
document.querySelectorAll('.post-card:nth-child(2) [data-tab]').forEach(b => b.onclick = () => {
    document.querySelectorAll('.post-card:nth-child(2) [data-tab]').forEach(x => x.classList.remove('active'));
    document.querySelectorAll('#img2pdf, #pdf2img').forEach(x => x.style.display = 'none');
    b.classList.add('active');
    document.getElementById(b.dataset.tab).style.display = b.dataset.tab === 'img2pdf' ? 'grid' : 'block';
});

// åŠ å¯† / è§£å¯† tab åˆ‡æ¢ï¼ˆä½¿ç”¨ data-enc-tabï¼‰
document.querySelectorAll('[data-enc-tab]').forEach(b => b.onclick = () => {
    document.querySelectorAll('[data-enc-tab]').forEach(x => x.classList.remove('active'));
    document.getElementById('encrypt-panel').style.display = 'none';
    document.getElementById('decrypt-panel').style.display = 'none';
    b.classList.add('active');
    document.getElementById(b.dataset.encTab + '-panel').style.display = 'block';
});

// è‡ªå®šä¹‰å°ºå¯¸æ˜¾éš
document.getElementById('pageSize').onchange = e => {
    document.getElementById('customSizeRow').style.display = e.target.value === 'custom' ? 'block' : 'none';
};

// æ—¥å¿—æ ·å¼ç»Ÿä¸€ï¼ˆå…¼å®¹æ—§æ ·å¼ï¼‰
const style = document.createElement('style');
style.textContent = `#imgLog,#pdfLog,#encLog,#decLog{margin-top:6px;color:var(--text-muted);font-size:13px;max-height:160px;overflow:auto;padding:10px 12px;border-radius:8px;}`;
document.head.appendChild(style);
</script>
</body>
</html>
