<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Frey çš„ä¸ªäººç½‘ç«™</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div id="time-card"><div class="date">0000-00-00</div><div class="time">--:--:--</div></div>

<header><h1>Frey çš„ä¸ªäººç½‘ç«™</h1><p>è®°å½• Â· æ€è€ƒ Â· æˆé•¿ Â· å‰è¿›</p></header>

<div class="container">

    <!-- å›¾ç‰‡å‹ç¼©&æ ¼å¼è½¬æ¢ï¼ˆä¿æŒåŸæ ·ï¼‰ -->
    <div class="post-card">
        <h2 class="card-title">å›¾ç‰‡å‹ç¼©&æ ¼å¼è½¬æ¢ <span class="toggle-icon">â–¾</span></h2>
        <div class="card-content">
            <p style="margin-top:8px">åœ¨æµè§ˆå™¨å†…å‹ç¼©å›¾ç‰‡å¹¶è½¬æ¢æ ¼å¼ï¼šä¸Šä¼  â†’ è®¾ç½®å‚æ•° â†’ å‹ç¼© â†’ å•å¼ æˆ–æ‰“åŒ…ä¸‹è½½ã€‚</p>
            <div style="margin-top:12px" class="compress-grid">
                <div style="padding:12px">
                    <div id="dropzone" class="dropzone">
                        <div style="font-weight:600;color:#cfe8ff">æ‹–æ‹½å›¾ç‰‡åˆ°è¿™é‡Œï¼Œæˆ–ç‚¹å‡»é€‰æ‹©æ–‡ä»¶ï¼ˆæ”¯æŒå¤šé€‰ï¼‰</div>
                        <div class="small" style="margin-top:6px">æ”¯æŒ JPEG / PNG / WebP / AVIF / GIFï¼ˆé™å¸§ï¼‰ä»¥åŠå‡ ä¹æ‰€æœ‰æµè§ˆå™¨å¯æ‰“å¼€çš„å›¾ç‰‡æ ¼å¼</div>
                        <input id="fileInput" type="file" accept="image/*" multiple style="display:none">
                    </div>
                    <div class="thumbs" id="thumbs"></div>
                    <div style="margin-top:12px" class="file-row">
                        <div class="small">å·²é€‰ï¼š<span id="count">0</span> å¼ </div>
                        <div>
                            <button class="btn" id="clearBtn">æ¸…ç©ºé¡µé¢</button>
                            <button class="btn" id="compressBtn">å¼€å§‹å¤„ç†</button>
                            <button class="btn" id="downloadAllBtn">æ‰“åŒ…ä¸‹è½½</button>
                        </div>
                    </div>
                    <div style="margin-top:8px" class="small">
                        å¤„ç†æ—¥å¿—ï¼š<div id="log" style="margin-top:6px;color:#94a3b8;font-size:13px;max-height:160px;overflow:auto;padding:10px 12px;border-radius:8px;background:rgba(0,0,0,0.25);border:1px solid rgba(255,255,255,0.06);line-height:1.5;"></div>
                    </div>
                </div>
                <div class="controls post-card" style="padding:14px">
                    <h3 style="margin:0 0 8px;color:#93c5fd">å‚æ•°è®¾ç½®</h3>

                    <div class="compress-param"><label class="small">æœ€å¤§å®½åº¦æˆ–é«˜åº¦ï¼ˆåƒç´ ï¼‰</label><input id="maxSide" type="number" value="1024" min="64" step="1"></div>
                    <div class="compress-param"><label class="small">ç›®æ ‡æ–‡ä»¶å¤§å°ï¼ˆæœ€å¤§ï¼ŒMBï¼‰</label><input id="maxSizeMB" type="number" value="1" min="0.05" step="0.05"></div>
                    <div>
                        <label class="small">è¾“å‡ºæ ¼å¼</label>
                        <select id="outFormat">
                            <option value="original">ä¿æŒåŸæ ¼å¼</option>
                            <option value="jpeg">JPEG (.jpg)</option>
                            <option value="png">PNG (.png)</option>
                            <option value="webp" selected>WebP (.webp)</option>
                            <option value="avif">AVIF (.avif)</option>
                        </select>
                    </div>
                    <div class="compress-param">
                        <label class="small">è´¨é‡ (0.1 - 1.0) <span id="qualityVal" class="small" style="float:right">0.80</span></label>
                        <input id="quality" type="range" min="0.1" max="1" step="0.05" value="0.80">
                    </div>
                    <div class="compress-param"><label class="small"><input id="useWorker" type="checkbox" checked> ä½¿ç”¨ Web Workerï¼ˆæ›´å¿«ï¼Œæ¨èï¼‰</label></div>

                    <div><label class="small"><input type="checkbox" id="onlyConvert"> ä»…ä¿®æ”¹å›¾ç‰‡æ ¼å¼ï¼ˆä¸å‹ç¼©ï¼‰</label></div>

                    <div style="margin-top:8px" class="small">
                        æç¤ºï¼šå‹¾é€‰ã€Œä»…ä¿®æ”¹å›¾ç‰‡æ ¼å¼ã€åå°†æ— æŸè½¬æ¢æ ¼å¼ï¼Œå‹ç¼©ç›¸å…³å‚æ•°ä¼šå˜ç°ã€‚<br>AVIF å‹ç¼©ç‡æœ€é«˜ï¼ŒWebP å…¼å®¹æ€§æœ€ä½³ã€‚
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å›¾ç‰‡ â†” PDF äº’è½¬ï¼ˆå·²å®Œå…¨ç»Ÿä¸€é£æ ¼ï¼‰ -->
    <div class="post-card">
        <h2 class="card-title">å›¾ç‰‡ â†” PDF äº’è½¬ <span class="toggle-icon">â–¾</span></h2>
        <div class="card-content">

            <p style="margin-top:8px">çº¯å‰ç«¯å®ç°ï¼šå¤šå›¾è½¬ PDFã€PDF è½¬å›¾ç‰‡ï¼Œå…¨éƒ¨ç¦»çº¿å¤„ç†ï¼Œæ”¯æŒæ‹–æ‹½ä¸æ‰¹é‡ä¸‹è½½ã€‚</p>

            <!-- Tab æŒ‰é’® -->
            <div style="margin-top:16px;display:flex;gap:10px;flex-wrap:wrap">
                <button class="btn active" data-tab="img2pdf">å›¾ç‰‡ â†’ PDF</button>
                <button class="btn" data-tab="pdf2img">PDF â†’ å›¾ç‰‡</button>
            </div>

            <!-- å›¾ç‰‡ â†’ PDF -->
            <div id="img2pdf" class="compress-grid" style="margin-top:12px;gap:18px">
                <div style="padding:12px">
                    <div id="dropzoneImg" class="dropzone">
                        <div style="font-weight:600;color:#cfe8ff">æ‹–æ‹½å›¾ç‰‡åˆ°è¿™é‡Œï¼Œæˆ–ç‚¹å‡»é€‰æ‹©ï¼ˆæ”¯æŒå¤šé€‰ï¼‰</div>
                        <div class="small" style="margin-top:6px">æ”¯æŒ JPG / PNG / WebP / GIFï¼ˆé™å¸§ï¼‰</div>
                        <input type="file" id="imgInput" accept="image/*" multiple style="display:none">
                    </div>
                    <div class="thumbs" id="imgThumbs"></div>

                    <div class="file-row" style="margin-top:12px">
                        <div class="small">å·²é€‰ï¼š<span id="imgCount">0</span> å¼ </div>
                        <div>
                            <button class="btn" id="clearImgList">æ¸…ç©ºåˆ—è¡¨</button>
                            <button class="btn" id="generatePdf">ç”Ÿæˆ PDF</button>
                        </div>
                    </div>

                    <div class="small" style="margin-top:8px">
                        å¤„ç†æ—¥å¿—ï¼š<div id="imgLog" style="margin-top:6px"></div>
                    </div>
                </div>

                <!-- å‚æ•°åŒºï¼ˆä¸å‹ç¼©å¡ç‰‡å®Œå…¨ä¸€è‡´ï¼‰ -->
                <div class="controls post-card" style="padding:14px;height:fit-content">
                    <h3 style="margin:0 0 8px;color:#93c5fd">å‚æ•°è®¾ç½®</h3>
                    <div class="compress-param"><label class="small">é¡µé¢å°ºå¯¸</label>
                        <select id="pageSize">
                            <option value="a4">A4ï¼ˆç«–ç‰ˆï¼‰</option>
                            <option value="a4l">A4ï¼ˆæ¨ªç‰ˆï¼‰</option>
                            <option value="letter">Letter</option>
                            <option value="custom">è‡ªå®šä¹‰å°ºå¯¸</option>
                        </select>
                    </div>
                    <div class="compress-param" id="customSizeRow" style="display:none">
                        <input type="number" id="customW" placeholder="å®½ px" value="1920" style="width:48%">
                        <input type="number" id="customH" placeholder="é«˜ px" value="1080" style="width:48%;margin-left:4%">
                    </div>
                    <div class="compress-param"><label class="small">è¾¹è·ï¼ˆpxï¼‰</label><input id="margin" type="number" value="20" min="0"></div>
                </div>
            </div>

            <!-- PDF â†’ å›¾ç‰‡ -->
            <div id="pdf2img" style="display:none;padding:12px">
                <div id="dropzonePdf" class="dropzone">
                    <div style="font-weight:600;color:#cfe8ff">æ‹–æ‹½ PDF æ–‡ä»¶åˆ°è¿™é‡Œï¼Œæˆ–ç‚¹å‡»é€‰æ‹©</div>
                    <div class="small" style="margin-top:6px">ä¸€æ¬¡åªæ”¯æŒå•ä¸ª PDF</div>
                    <input type="file" id="pdfInput" accept=".pdf" style="display:none">
                </div>
                <div class="thumbs" id="pdfThumbs"></div>
            
                <div class="file-row" style="margin-top:12px">
                    <div class="small">å…± <span id="pdfPageCount">0</span> é¡µ</div>
                    <div>
                        <button class="btn" id="clearPdfList">æ¸…ç©ºé¡µé¢</button>
                        <button class="btn" id="extractImages">æå–å›¾ç‰‡</button>
                        <button class="btn" id="downloadAllImages">æ‰“åŒ…ä¸‹è½½</button>
                    </div>
                </div>
            
                <div class="small" style="margin-top:8px">
                    å¤„ç†æ—¥å¿—ï¼š<div id="pdfLog" style="margin-top:6px;color:#94a3b8;font-size:13px;max-height:160px;overflow:auto;padding:10px 12px;border-radius:8px;background:rgba(0,0,0,0.25);border:1px solid rgba(255,255,255,0.06);line-height:1.5;"></div>
                </div>
            </div>
        </div>
    </div> 
    
    <!-- æœªæ¥å†…å®¹ -->
    <div class="post-card">
        <h2 class="card-title">æœªæ¥å†…å®¹ <span class="toggle-icon">â–¾</span></h2>
        <div class="card-content"><p>æ•¬è¯·æœŸå¾…ï¼</p></div>
    </div>

</div>

<footer>Â© 2025 <span>Frey</span> â€¢ Powered by GitHub Pages</footer>

<div id="net-monitor-btn"><div class="net-icon">ğŸŒ</div></div>
<div id="net-monitor-panel">
    <h3>ç½‘ç»œçŠ¶æ€ç›‘æ§</h3>
    <div class="net-item">ç½‘ç»œçŠ¶æ€ï¼š<span id="nm-status">--</span></div>
    <div class="net-item">è¯·æ±‚è€—æ—¶ï¼š<span id="nm-request">--</span></div>
    <div class="net-item">ä¸‹è½½é€Ÿåº¦ï¼š<span id="nm-speed">--</span></div>
    <div class="net-item">ç½‘ç»œå»¶è¿Ÿï¼š<span id="nm-latency">--</span></div>
</div>
<!-- ====================== éŸ³ä¹æ’­æ”¾å™¨æŒ‰é’®ï¼ˆå’Œç½‘é€ŸæŒ‰é’®å®Œå…¨å¯¹ç§°ï¼‰ ====================== -->
<div id="music-player-btn"><div class="music-icon">ğŸµ</div></div>

<!-- éŸ³ä¹æ’­æ”¾å™¨é¢æ¿ï¼ˆåˆå§‹éšè—ï¼‰ -->
<div id="music-player-panel">
    <h3 style="margin:0 0 10px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;">
        <span>éŸ³ä¹æ’­æ”¾å™¨</span>
        <span id="toggleList" style="font-size:18px;opacity:0.6;">â™ª</span>
    </h3>

    <div id="songTitle" class="net-item" style="font-weight:600;cursor:pointer;" title="ç‚¹å‡»å±•å¼€æ­Œå•">
        åŠ è½½ä¸­...
    </div>

    <div class="net-item">
        è¿›åº¦ï¼š<input type="range" id="progress" value="0" max="100" style="width:160px;vertical-align:middle;">
    </div>
    
    <div class="net-item" style="justify-content:space-between;">
        <span id="currentTime">0:00</span>
        <button id="prevBtn" class="mini-btn">â®</button>
        <button id="playBtn" class="mini-btn">â–¶</button>
        <button id="nextBtn" class="mini-btn">â­</button>
        <span id="duration">--:--</span>
    </div>
    
    <div class="net-item">
        éŸ³é‡ï¼š<input type="range" id="volume" min="0" max="100" value="70" style="width:140px;vertical-align:middle;">
    </div>

    <!-- å¯å±•å¼€çš„æ­Œæ›²åˆ—è¡¨ + æ”¯æŒæ‹–æ‹½æœ¬åœ° mp3 -->
    <div id="playlistContainer" style="display:none;max-height:180px;overflow-y:auto;margin-top:8px;border-top:1px solid rgba(255,255,255,0.1);padding-top:8px;">
        
        <!-- æ–°å¢ï¼šFrey AI ç”Ÿæˆæ ‡è¯† -->
        <div style="text-align:center;color:#60a5fa;font-size:12px;padding:4px 0;margin-bottom:8px;
                    border-bottom:1px solid rgba(96,165,250,0.3);font-weight:600;">
            â™ª ä»¥ä¸‹æ‰€æœ‰éŸ³ä¹å‡ç”± Frey ä½¿ç”¨ AI ç”Ÿæˆ â™ª
        </div>

        <div id="playlistItems" style="font-size:13px;"></div>
        
        <div style="padding:8px 0;color:#64748b;font-size:12px;text-align:center;">
            å¯æ‹–æ‹½æœ¬åœ° mp3 åˆ°æ­¤å¤„æ·»åŠ 
        </div>
    </div>
</div>

<!-- ç¬¬ä¸‰æ–¹åº“ -->
<script src="js/lib/three.min.js"></script>
<script src="js/lib/vanta.net.min.js"></script>
<script src="js/lib/browser-image-compression.min.js"></script>
<script src="js/lib/jszip.min.js"></script>
<script src="js/lib/jspdf.umd.min.js"></script>
<script src="js/lib/pdf.min.js"></script>

<!-- è‡ªå·±çš„æ¨¡å—å…¥å£ -->
<script type="module" src="js/main.js"></script>

<!-- ä»… 10 è¡Œå†…è”è„šæœ¬ï¼Œä¿è¯ PDF å¡ç‰‡å®Œç¾ç»Ÿä¸€ + åŠŸèƒ½æ­£å¸¸ -->
<script>
// Tab åˆ‡æ¢
document.querySelectorAll('[data-tab]').forEach(b => b.onclick = () => {
    document.querySelectorAll('[data-tab]').forEach(x => x.classList.remove('active'));
    document.querySelectorAll('#img2pdf, #pdf2img').forEach(x => x.style.display = 'none');
    b.classList.add('active');
    document.getElementById(b.dataset.tab).style.display = b.dataset.tab === 'img2pdf' ? 'grid' : 'block';
});

// è‡ªå®šä¹‰å°ºå¯¸æ˜¾éš
document.getElementById('pageSize').onchange = e => {
    document.getElementById('customSizeRow').style.display = e.target.value === 'custom' ? 'block' : 'none';
};

// è®©ä¸¤ä¸ªæ—¥å¿—æ¡†å®Œå…¨å¤ç”¨ #log çš„æ ·å¼ï¼ˆåŒ…æ‹¬æ»šåŠ¨æ¡ï¼‰
const style = document.createElement('style');
style.textContent = `#imgLog,#pdfLog{margin-top:6px;color:#94a3b8;font-size:13px;max-height:160px;overflow:auto;padding:10px 12px;border-radius:8px;background:rgba(0,0,0,0.25);border:1px solid rgba(255,255,255,0.06);line-height:1.5;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,0.15) transparent;}
#imgLog::-webkit-scrollbar,#pdfLog::-webkit-scrollbar{width:8px}
#imgLog::-webkit-scrollbar-track,#pdfLog::-webkit-scrollbar-track{background:transparent}
#imgLog::-webkit-scrollbar-thumb,#pdfLog::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.15);border-radius:4px}
#imgLog::-webkit-scrollbar-thumb:hover,#pdfLog::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,0.3)}`;
document.head.appendChild(style);
</script>

</body>
</html>
